---
// src/components/city/CityAmbience.astro
interface Props {
  city: 'boston' | 'miami' | 'nyc' | 'doha';
  disableShimmer?: boolean;
}

const { city, disableShimmer = false } = Astro.props;

const ambienceStyles = {
  boston: {
    primary: 'from-boston-burgundy/10 to-boston-navy/10',
    accent: 'bg-boston-gold/5',
    position: 'top-1/4 -right-1/4',
    shimmerColor: 'rgba(184, 134, 11, 0.1)', // Gold shimmer
  },
  miami: {
    primary: 'from-miami-turquoise/10 to-miami-coral/10',
    accent: 'bg-miami-sunset/5',
    position: 'top-1/3 -left-1/4',
    shimmerColor: 'rgba(255,255,255,0.02)',
  },
  nyc: {
    primary: 'from-nyc-navy/10 to-nyc-gold/10',
    accent: 'bg-nyc-steel/5',
    position: 'top-1/2 -right-1/3',
    shimmerColor: 'rgba(255,255,255,0.02)',
  },
  doha: {
    primary: 'from-doha-maroon/10 to-doha-gold/10',
    accent: 'bg-doha-sand/5',
    position: 'top-1/3 -right-1/4',
    shimmerColor: 'rgba(255,255,255,0.02)',
  },
};

const style = ambienceStyles[city];
---

<!-- Floating ambient orb -->
<div 
  class:list={[
    "fixed w-[600px] h-[600px] rounded-full opacity-30 animate-float pointer-events-none -z-10",
    `bg-gradient-to-br ${style.primary}`,
    style.position
  ]}
  style={city === 'boston' ? 'filter: blur(48px);' : 'filter: blur(64px);'}
  aria-hidden="true"
></div>

<!-- Subtle pulse accent -->
<div 
  class:list={[
    "fixed bottom-1/4 left-1/4 w-96 h-96 rounded-full blur-2xl opacity-20 animate-pulse-glow pointer-events-none -z-10",
    style.accent
  ]}
  aria-hidden="true"
></div>

<!-- Shimmer effect overlay -->
{!disableShimmer && (
  <div 
    class="fixed inset-0 animate-shimmer opacity-20 pointer-events-none -z-10"
    style={`background: linear-gradient(90deg, transparent 0%, ${style.shimmerColor} 50%, transparent 100%); background-size: 1000px 100%;`}
    aria-hidden="true"
  ></div>
)}

<style>
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }
  
  @keyframes pulse-glow {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
  }
  
  @keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
  }
  
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  
  .animate-pulse-glow {
    animation: pulse-glow 4s ease-in-out infinite;
  }
  
  .animate-shimmer {
    animation: shimmer 3s linear infinite;
  }
</style>

