---
// src/components/PlatformPillars.astro

interface Pillar {
  icon: string;
  label: string;
  href: string;
}

const pillars: Pillar[] = [
  { 
    icon: 'book-open',
    label: 'Editorial', 
    href: '/editorial'
  },
  { 
    icon: 'sparkles',
    label: 'Experiences', 
    href: '/experiences'
  },
  { 
    icon: 'users',
    label: 'Community', 
    href: '/community'
  },
  { 
    icon: 'crown',
    label: 'Concierge', 
    href: '/concierge'
  },
  { 
    icon: 'map-pin',
    label: 'Cities', 
    href: '/cities'
  }
];

// SVG paths for each icon
const iconPaths: Record<string, string> = {
  'book-open': '<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>',
  'sparkles': '<path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/>',
  'users': '<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>',
  'crown': '<path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/>',
  'map-pin': '<path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/>'
};
---

<section class="platform-pillars">
  <div class="container max-w-5xl mx-auto px-4">
    <div class="pillars-container">
      <div class="pillars-row">
        {pillars.map((pillar) => {
          const iconSvg = iconPaths[pillar.icon];
          return (
            <a href={pillar.href} class="pillar-item group">
              <div class="pillar-icon-wrapper">
                <svg 
                  class="pillar-icon" 
                  xmlns="http://www.w3.org/2000/svg" 
                  width="24" 
                  height="24" 
                  viewBox="0 0 24 24" 
                  fill="none" 
                  stroke="currentColor" 
                  stroke-width="2" 
                  stroke-linecap="round" 
                  stroke-linejoin="round"
                  set:html={iconSvg}
                />
              </div>
              <span class="pillar-label">{pillar.label}</span>
            </a>
          );
        })}
      </div>
    </div>
  </div>
</section>

<style>
  /* ================================
     PLATFORM PILLARS
     ================================ */

  .platform-pillars {
    width: 100%;
    padding: 2rem 0;     /* py-8 */
  }

  @media (min-width: 768px) {
    .platform-pillars {
      padding: 3rem 0;   /* md:py-12 */
    }
  }

  /* Container Card */
  .pillars-container {
    background: rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid hsl(var(--border) / 0.3);
    border-radius: 1rem;           /* rounded-2xl */
    padding: 1rem;                 /* p-4 */
  }

  @media (min-width: 768px) {
    .pillars-container {
      padding: 1.5rem;             /* md:p-6 */
    }
  }

  /* Pillars Row */
  .pillars-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    overflow-x: auto;
    scrollbar-width: none;         /* Firefox */
    -ms-overflow-style: none;      /* IE/Edge */
  }

  .pillars-row::-webkit-scrollbar {
    display: none;                 /* Chrome/Safari */
  }

  @media (min-width: 768px) {
    .pillars-row {
      gap: 1rem;
    }
  }

  /* Individual Pillar Item */
  .pillar-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    min-width: 80px;
    padding: 0.5rem 0.75rem;       /* py-2 px-3 */
    border-radius: 0.75rem;        /* rounded-xl */
    transition: all 0.3s ease;
    cursor: pointer;
    text-decoration: none;
  }

  @media (min-width: 768px) {
    .pillar-item {
      min-width: 100px;
      padding: 0.5rem 1rem;        /* md:px-4 */
    }
  }

  .pillar-item:hover {
    background: hsl(var(--luxury-gold) / 0.1);
  }

  /* Icon Wrapper */
  .pillar-icon-wrapper {
    width: 2.5rem;                 /* w-10 */
    height: 2.5rem;                /* h-10 */
    border-radius: 50%;
    background: hsl(var(--background) / 0.5);
    border: 1px solid hsl(var(--border) / 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  @media (min-width: 768px) {
    .pillar-icon-wrapper {
      width: 3rem;                 /* md:w-12 */
      height: 3rem;                /* md:h-12 */
    }
  }

  .pillar-item:hover .pillar-icon-wrapper {
    border-color: hsl(var(--luxury-gold) / 0.5);
    box-shadow: 0 0 15px rgba(218, 165, 32, 0.2);
  }

  /* Icon SVG */
  .pillar-icon {
    width: 1.25rem;                /* w-5 */
    height: 1.25rem;               /* h-5 */
    color: hsl(var(--foreground) / 0.7);
    transition: color 0.3s ease;
  }

  @media (min-width: 768px) {
    .pillar-icon {
      width: 1.5rem;               /* md:w-6 */
      height: 1.5rem;              /* md:h-6 */
    }
  }

  .pillar-item:hover .pillar-icon {
    color: hsl(var(--luxury-gold));
  }

  /* Label */
  .pillar-label {
    font-size: 0.75rem;            /* text-xs */
    font-family: var(--font-serif);
    letter-spacing: 0.1em;         /* tracking-luxury */
    color: hsl(var(--foreground) / 0.8);
    white-space: nowrap;
    transition: color 0.3s ease;
  }

  @media (min-width: 768px) {
    .pillar-label {
      font-size: 0.875rem;         /* md:text-sm */
    }
  }

  .pillar-item:hover .pillar-label {
    color: hsl(var(--foreground));
  }

  /* Light Theme Adjustments */
  .light .pillars-container {
    background: rgba(255, 255, 255, 0.7);
    border-color: hsl(var(--border) / 0.5);
  }

  .light .pillar-icon-wrapper {
    background: rgba(255, 255, 255, 0.8);
  }
</style>
